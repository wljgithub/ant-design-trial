(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[6527],{46502:function(p){p.exports={baseView:"antd-pro-pages-account-settings-components-base-view-baseView",left:"antd-pro-pages-account-settings-components-base-view-left",right:"antd-pro-pages-account-settings-components-base-view-right",avatar_title:"antd-pro-pages-account-settings-components-base-view-avatar_title",avatar:"antd-pro-pages-account-settings-components-base-view-avatar",button_view:"antd-pro-pages-account-settings-components-base-view-button_view"}},4146:function(p){p.exports={row:"antd-pro-pages-account-settings-components-geographic-view-row",item:"antd-pro-pages-account-settings-components-geographic-view-item"}},23110:function(p){p.exports={area_code:"antd-pro-pages-account-settings-components-phone-view-area_code",phone_number:"antd-pro-pages-account-settings-components-phone-view-phone_number"}},41215:function(p){p.exports={main:"antd-pro-pages-account-settings-style-main",leftMenu:"antd-pro-pages-account-settings-style-leftMenu",right:"antd-pro-pages-account-settings-style-right",title:"antd-pro-pages-account-settings-style-title"}},57435:function(p,I,r){"use strict";r.r(I),r.d(I,{default:function(){return le}});var h=r(44950),y=r(92633),E=r(73848),w=r(43649),me=r(59887),N=r(33523),e=r(67294),n=r(12700),U=r(35671),ve=r(76241),v=r(75519),ge=r(59094),Z=r(66032),pe=r(29068),H=r(65175),fe=r(88148),F=r(75196),he=r(83385),P=r(55297),ye=r(71153),b=r(50819),B=r(84391),Ee=r(79569),D=r(13668),z=r(4146),V=r.n(z),S=b.Z.Option,C={label:"",value:"",key:""},K=function(l){(0,E.Z)(s,l);var u=(0,w.Z)(s);function s(){var a;(0,h.Z)(this,s);for(var t=arguments.length,c=new Array(t),i=0;i<t;i++)c[i]=arguments[i];return a=u.call.apply(u,[this].concat(c)),a.componentDidMount=function(){var o=a.props.dispatch;o&&o({type:"accountAndsettings/fetchProvince"})},a.getCityOption=function(){var o=a.props.city;return o?a.getOption(o):[]},a.getOption=function(o){return!o||o.length<1?e.createElement(S,{key:0,value:0},"\u6CA1\u6709\u627E\u5230\u9009\u9879"):o.map(function(d){return e.createElement(S,{key:d.id,value:d.id},d.name)})},a.selectProvinceItem=function(o){var d=a.props,f=d.dispatch,m=d.onChange;f&&f({type:"accountAndsettings/fetchCity",payload:o.key}),m&&m({province:o,city:C})},a.selectCityItem=function(o){var d=a.props,f=d.value,m=d.onChange;f&&m&&m({province:f.province,city:o})},a}return(0,y.Z)(s,[{key:"componentDidUpdate",value:function(t){var c=this.props,i=c.dispatch,o=c.value;!t.value&&!!o&&!!o.province&&i&&i({type:"accountAndsettings/fetchCity",payload:o.province.key})}},{key:"getProvinceOption",value:function(){var t=this.props.province;return t?this.getOption(t):[]}},{key:"conversionObject",value:function(){var t=this.props.value;if(!t)return{province:C,city:C};var c=t.province,i=t.city;return{province:c||C,city:i||C}}},{key:"render",value:function(){var t=this.conversionObject(),c=t.province,i=t.city,o=this.props.loading;return e.createElement(D.Z,{spinning:o,wrapperClassName:V().row},e.createElement(b.Z,{className:V().item,value:c,labelInValue:!0,showSearch:!0,onSelect:this.selectProvinceItem},this.getProvinceOption()),e.createElement(b.Z,{className:V().item,value:i,labelInValue:!0,showSearch:!0,onSelect:this.selectCityItem},this.getCityOption()))}}]),s}(e.Component),x=(0,n.$j)(function(l){var u=l.accountAndsettings,s=l.loading,a=u.province,t=u.city;return{province:a,city:t,loading:s.models.accountAndsettings}})(K),j=r(23110),O=r.n(j),L=function(u){var s=u.value,a=u.onChange,t=["",""];return s&&(t=s.split("-")),e.createElement(e.Fragment,null,e.createElement(Z.Z,{className:O().area_code,value:t[0],onChange:function(i){a&&a("".concat(i.target.value,"-").concat(t[1]))}}),e.createElement(Z.Z,{className:O().phone_number,onChange:function(i){a&&a("".concat(t[0],"-").concat(i.target.value))},value:t[1]}))},W=L,$=r(46502),M=r.n($),G=b.Z.Option,R=function(u){var s=u.avatar;return e.createElement(e.Fragment,null,e.createElement("div",{className:M().avatar_title},e.createElement(n._H,{id:"accountandsettings.basic.avatar",defaultMessage:"Avatar"})),e.createElement("div",{className:M().avatar},e.createElement("img",{src:s,alt:"avatar"})),e.createElement(F.Z,{showUploadList:!1},e.createElement("div",{className:M().button_view},e.createElement(P.Z,null,e.createElement(B.Z,null),e.createElement(n._H,{id:"accountandsettings.basic.change-avatar",defaultMessage:"Change avatar"})))))},T=function(u,s,a){var t=s.province,c=s.city;t.key||a("Please input your province!"),c.key||a("Please input your city!"),a()},J=function(u,s,a){var t=s.split("-");t[0]||a("Please input your area code!"),t[1]||a("Please input your phone number!"),a()},Q=function(l){(0,E.Z)(s,l);var u=(0,w.Z)(s);function s(){var a;(0,h.Z)(this,s);for(var t=arguments.length,c=new Array(t),i=0;i<t;i++)c[i]=arguments[i];return a=u.call.apply(u,[this].concat(c)),a.view=void 0,a.getViewDom=function(o){a.view=o},a.handleFinish=function(){H.default.success((0,n.wv)({id:"accountandsettings.basic.update.success"}))},a}return(0,y.Z)(s,[{key:"getAvatarURL",value:function(){var t=this.props.currentUser;if(t){if(t.avatar)return t.avatar;var c="https://gw.alipayobjects.com/zos/rmsportal/BiazfanxmamNRoxxVxka.png";return c}return""}},{key:"render",value:function(){var t=this.props.currentUser;return e.createElement("div",{className:M().baseView,ref:this.getViewDom},e.createElement("div",{className:M().left},e.createElement(v.Z,{layout:"vertical",onFinish:this.handleFinish,initialValues:t,hideRequiredMark:!0},e.createElement(v.Z.Item,{name:"email",label:(0,n.wv)({id:"accountandsettings.basic.email"}),rules:[{required:!0,message:(0,n.wv)({id:"accountandsettings.basic.email-message"},{})}]},e.createElement(Z.Z,null)),e.createElement(v.Z.Item,{name:"name",label:(0,n.wv)({id:"accountandsettings.basic.nickname"}),rules:[{required:!0,message:(0,n.wv)({id:"accountandsettings.basic.nickname-message"},{})}]},e.createElement(Z.Z,null)),e.createElement(v.Z.Item,{name:"profile",label:(0,n.wv)({id:"accountandsettings.basic.profile"}),rules:[{required:!0,message:(0,n.wv)({id:"accountandsettings.basic.profile-message"},{})}]},e.createElement(Z.Z.TextArea,{placeholder:(0,n.wv)({id:"accountandsettings.basic.profile-placeholder"}),rows:4})),e.createElement(v.Z.Item,{name:"country",label:(0,n.wv)({id:"accountandsettings.basic.country"}),rules:[{required:!0,message:(0,n.wv)({id:"accountandsettings.basic.country-message"},{})}]},e.createElement(b.Z,{style:{maxWidth:220}},e.createElement(G,{value:"China"},"\u4E2D\u56FD"))),e.createElement(v.Z.Item,{name:"geographic",label:(0,n.wv)({id:"accountandsettings.basic.geographic"}),rules:[{required:!0,message:(0,n.wv)({id:"accountandsettings.basic.geographic-message"},{})},{validator:T}]},e.createElement(x,null)),e.createElement(v.Z.Item,{name:"address",label:(0,n.wv)({id:"accountandsettings.basic.address"}),rules:[{required:!0,message:(0,n.wv)({id:"accountandsettings.basic.address-message"},{})}]},e.createElement(Z.Z,null)),e.createElement(v.Z.Item,{name:"phone",label:(0,n.wv)({id:"accountandsettings.basic.phone"}),rules:[{required:!0,message:(0,n.wv)({id:"accountandsettings.basic.phone-message"},{})},{validator:J}]},e.createElement(W,null)),e.createElement(v.Z.Item,null,e.createElement(P.Z,{htmlType:"submit",type:"primary"},e.createElement(n._H,{id:"accountandsettings.basic.update",defaultMessage:"Update Information"}))))),e.createElement("div",{className:M().right},e.createElement(R,{avatar:this.getAvatarURL()})))}}]),s}(e.Component),X=(0,n.$j)(function(l){var u=l.accountAndsettings;return{currentUser:u.currentUser}})(Q),we=r(48568),g=r(32689),Y=r(98522),k=r(94506),q=r(73566),_=function(l){(0,E.Z)(s,l);var u=(0,w.Z)(s);function s(){var a;(0,h.Z)(this,s);for(var t=arguments.length,c=new Array(t),i=0;i<t;i++)c[i]=arguments[i];return a=u.call.apply(u,[this].concat(c)),a.getData=function(){return[{title:(0,n.wv)({id:"accountandsettings.binding.taobao"},{}),description:(0,n.wv)({id:"accountandsettings.binding.taobao-description"},{}),actions:[e.createElement("a",{key:"Bind"},e.createElement(n._H,{id:"accountandsettings.binding.bind",defaultMessage:"Bind"}))],avatar:e.createElement(Y.Z,{className:"taobao"})},{title:(0,n.wv)({id:"accountandsettings.binding.alipay"},{}),description:(0,n.wv)({id:"accountandsettings.binding.alipay-description"},{}),actions:[e.createElement("a",{key:"Bind"},e.createElement(n._H,{id:"accountandsettings.binding.bind",defaultMessage:"Bind"}))],avatar:e.createElement(k.Z,{className:"alipay"})},{title:(0,n.wv)({id:"accountandsettings.binding.dingding"},{}),description:(0,n.wv)({id:"accountandsettings.binding.dingding-description"},{}),actions:[e.createElement("a",{key:"Bind"},e.createElement(n._H,{id:"accountandsettings.binding.bind",defaultMessage:"Bind"}))],avatar:e.createElement(q.Z,{className:"dingding"})}]},a}return(0,y.Z)(s,[{key:"render",value:function(){return e.createElement(e.Fragment,null,e.createElement(g.ZP,{itemLayout:"horizontal",dataSource:this.getData(),renderItem:function(c){return e.createElement(g.ZP.Item,{actions:c.actions},e.createElement(g.ZP.Item.Meta,{avatar:c.avatar,title:c.title,description:c.description}))}}))}}]),s}(e.Component),ee=_,Ze=r(7070),te=r(91659),ne=function(l){(0,E.Z)(s,l);var u=(0,w.Z)(s);function s(){var a;(0,h.Z)(this,s);for(var t=arguments.length,c=new Array(t),i=0;i<t;i++)c[i]=arguments[i];return a=u.call.apply(u,[this].concat(c)),a.getData=function(){var o=e.createElement(te.Z,{checkedChildren:(0,n.wv)({id:"accountandsettings.settings.open"}),unCheckedChildren:(0,n.wv)({id:"accountandsettings.settings.close"}),defaultChecked:!0});return[{title:(0,n.wv)({id:"accountandsettings.notification.password"},{}),description:(0,n.wv)({id:"accountandsettings.notification.password-description"},{}),actions:[o]},{title:(0,n.wv)({id:"accountandsettings.notification.messages"},{}),description:(0,n.wv)({id:"accountandsettings.notification.messages-description"},{}),actions:[o]},{title:(0,n.wv)({id:"accountandsettings.notification.todo"},{}),description:(0,n.wv)({id:"accountandsettings.notification.todo-description"},{}),actions:[o]}]},a}return(0,y.Z)(s,[{key:"render",value:function(){var t=this.getData();return e.createElement(e.Fragment,null,e.createElement(g.ZP,{itemLayout:"horizontal",dataSource:t,renderItem:function(i){return e.createElement(g.ZP.Item,{actions:i.actions},e.createElement(g.ZP.Item.Meta,{title:i.title,description:i.description}))}}))}}]),s}(e.Component),ae=ne,ie={strong:e.createElement("span",{className:"strong"},e.createElement(n._H,{id:"accountandsettings.security.strong",defaultMessage:"Strong"})),medium:e.createElement("span",{className:"medium"},e.createElement(n._H,{id:"accountandsettings.security.medium",defaultMessage:"Medium"})),weak:e.createElement("span",{className:"weak"},e.createElement(n._H,{id:"accountandsettings.security.weak",defaultMessage:"Weak"}),"Weak")},se=function(l){(0,E.Z)(s,l);var u=(0,w.Z)(s);function s(){var a;(0,h.Z)(this,s);for(var t=arguments.length,c=new Array(t),i=0;i<t;i++)c[i]=arguments[i];return a=u.call.apply(u,[this].concat(c)),a.getData=function(){return[{title:(0,n.wv)({id:"accountandsettings.security.password"},{}),description:e.createElement(e.Fragment,null,(0,n.wv)({id:"accountandsettings.security.password-description"}),"\uFF1A",ie.strong),actions:[e.createElement("a",{key:"Modify"},e.createElement(n._H,{id:"accountandsettings.security.modify",defaultMessage:"Modify"}))]},{title:(0,n.wv)({id:"accountandsettings.security.phone"},{}),description:"".concat((0,n.wv)({id:"accountandsettings.security.phone-description"},{}),"\uFF1A138****8293"),actions:[e.createElement("a",{key:"Modify"},e.createElement(n._H,{id:"accountandsettings.security.modify",defaultMessage:"Modify"}))]},{title:(0,n.wv)({id:"accountandsettings.security.question"},{}),description:(0,n.wv)({id:"accountandsettings.security.question-description"},{}),actions:[e.createElement("a",{key:"Set"},e.createElement(n._H,{id:"accountandsettings.security.set",defaultMessage:"Set"}))]},{title:(0,n.wv)({id:"accountandsettings.security.email"},{}),description:"".concat((0,n.wv)({id:"accountandsettings.security.email-description"},{}),"\uFF1Aant***sign.com"),actions:[e.createElement("a",{key:"Modify"},e.createElement(n._H,{id:"accountandsettings.security.modify",defaultMessage:"Modify"}))]},{title:(0,n.wv)({id:"accountandsettings.security.mfa"},{}),description:(0,n.wv)({id:"accountandsettings.security.mfa-description"},{}),actions:[e.createElement("a",{key:"bind"},e.createElement(n._H,{id:"accountandsettings.security.bind",defaultMessage:"Bind"}))]}]},a}return(0,y.Z)(s,[{key:"render",value:function(){var t=this.getData();return e.createElement(e.Fragment,null,e.createElement(g.ZP,{itemLayout:"horizontal",dataSource:t,renderItem:function(i){return e.createElement(g.ZP.Item,{actions:i.actions},e.createElement(g.ZP.Item.Meta,{title:i.title,description:i.description}))}}))}}]),s}(e.Component),re=se,ce=r(41215),A=r.n(ce),oe=N.Z.Item,ue=function(l){(0,E.Z)(s,l);var u=(0,w.Z)(s);function s(a){var t;(0,h.Z)(this,s),t=u.call(this,a),t.main=void 0,t.getMenu=function(){var i=t.state.menuMap;return Object.keys(i).map(function(o){return e.createElement(oe,{key:o},i[o])})},t.getRightTitle=function(){var i=t.state,o=i.selectKey,d=i.menuMap;return d[o]},t.selectKey=function(i){t.setState({selectKey:i})},t.resize=function(){!t.main||requestAnimationFrame(function(){if(!!t.main){var i="inline",o=t.main.offsetWidth;t.main.offsetWidth<641&&o>400&&(i="horizontal"),window.innerWidth<768&&o>400&&(i="horizontal"),t.setState({mode:i})}})},t.renderChildren=function(){var i=t.state.selectKey;switch(i){case"base":return e.createElement(X,null);case"security":return e.createElement(re,null);case"binding":return e.createElement(ee,null);case"notification":return e.createElement(ae,null);default:break}return null};var c={base:e.createElement(n._H,{id:"accountandsettings.menuMap.basic",defaultMessage:"Basic Settings"}),security:e.createElement(n._H,{id:"accountandsettings.menuMap.security",defaultMessage:"Security Settings"}),binding:e.createElement(n._H,{id:"accountandsettings.menuMap.binding",defaultMessage:"Account Binding"}),notification:e.createElement(n._H,{id:"accountandsettings.menuMap.notification",defaultMessage:"New Message Notification"})};return t.state={mode:"inline",menuMap:c,selectKey:"base"},t}return(0,y.Z)(s,[{key:"componentDidMount",value:function(){var t=this.props.dispatch;t({type:"accountAndsettings/fetchCurrent"}),window.addEventListener("resize",this.resize),this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var t=this,c=this.props.currentUser;if(!c.userid)return"";var i=this.state,o=i.mode,d=i.selectKey;return e.createElement(U.Z,null,e.createElement("div",{className:A().main,ref:function(m){m&&(t.main=m)}},e.createElement("div",{className:A().leftMenu},e.createElement(N.Z,{mode:o,selectedKeys:[d],onClick:function(m){var de=m.key;return t.selectKey(de)}},this.getMenu())),e.createElement("div",{className:A().right},e.createElement("div",{className:A().title},this.getRightTitle()),this.renderChildren())))}}]),s}(e.Component),le=(0,n.$j)(function(l){var u=l.accountAndsettings;return{currentUser:u.currentUser}})(ue)}}]);
