(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[5805],{23230:function(D){D.exports={chartCard:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-chartCard",chartTop:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-chartTop",chartTopMargin:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-chartTopMargin",chartTopHasMargin:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-chartTopHasMargin",metaWrap:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-metaWrap",avatar:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-avatar",meta:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-meta",action:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-action",total:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-total",content:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-content",contentFixed:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-contentFixed",footer:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-footer",footerMargin:"antd-pro-pages-dashboard-analysis-components-charts-chart-card-index-footerMargin"}},16829:function(D){D.exports={field:"antd-pro-pages-dashboard-analysis-components-charts-field-index-field",label:"antd-pro-pages-dashboard-analysis-components-charts-field-index-label",number:"antd-pro-pages-dashboard-analysis-components-charts-field-index-number"}},24894:function(D){D.exports={miniProgress:"antd-pro-pages-dashboard-analysis-components-charts-mini-progress-index-miniProgress",progressWrap:"antd-pro-pages-dashboard-analysis-components-charts-mini-progress-index-progressWrap",progress:"antd-pro-pages-dashboard-analysis-components-charts-mini-progress-index-progress",target:"antd-pro-pages-dashboard-analysis-components-charts-mini-progress-index-target"}},66649:function(D){D.exports={pie:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-pie",chart:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-chart",hasLegend:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-hasLegend",legend:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-legend",dot:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-dot",line:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-line",legendTitle:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-legendTitle",percent:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-percent",value:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-value",title:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-title",total:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-total",legendBlock:"antd-pro-pages-dashboard-analysis-components-charts-pie-index-legendBlock"}},41986:function(D){D.exports={tagCloud:"antd-pro-pages-dashboard-analysis-components-charts-tag-cloud-index-tagCloud"}},74303:function(D){D.exports={timelineChart:"antd-pro-pages-dashboard-analysis-components-charts-timeline-chart-index-timelineChart"}},73549:function(D){D.exports={waterWave:"antd-pro-pages-dashboard-analysis-components-charts-water-wave-index-waterWave",text:"antd-pro-pages-dashboard-analysis-components-charts-water-wave-index-text",waterWaveCanvasWrapper:"antd-pro-pages-dashboard-analysis-components-charts-water-wave-index-waterWaveCanvasWrapper"}},47407:function(D){D.exports={miniChart:"antd-pro-pages-dashboard-analysis-components-charts-index-miniChart",chartContent:"antd-pro-pages-dashboard-analysis-components-charts-index-chartContent",chartLoading:"antd-pro-pages-dashboard-analysis-components-charts-index-chartLoading"}},59641:function(D){D.exports={numberInfo:"antd-pro-pages-dashboard-analysis-components-number-info-index-numberInfo",suffix:"antd-pro-pages-dashboard-analysis-components-number-info-index-suffix",numberInfoTitle:"antd-pro-pages-dashboard-analysis-components-number-info-index-numberInfoTitle",numberInfoSubTitle:"antd-pro-pages-dashboard-analysis-components-number-info-index-numberInfoSubTitle",numberInfoValue:"antd-pro-pages-dashboard-analysis-components-number-info-index-numberInfoValue",subTotal:"antd-pro-pages-dashboard-analysis-components-number-info-index-subTotal",anticon:"antd-pro-pages-dashboard-analysis-components-number-info-index-anticon",numberInfolight:"antd-pro-pages-dashboard-analysis-components-number-info-index-numberInfolight"}},74450:function(D){D.exports={trendItem:"antd-pro-pages-dashboard-analysis-components-trend-index-trendItem",up:"antd-pro-pages-dashboard-analysis-components-trend-index-up",down:"antd-pro-pages-dashboard-analysis-components-trend-index-down",trendItemGrey:"antd-pro-pages-dashboard-analysis-components-trend-index-trendItemGrey",reverseColor:"antd-pro-pages-dashboard-analysis-components-trend-index-reverseColor"}},56443:function(D){D.exports={iconGroup:"antd-pro-pages-dashboard-analysis-style-iconGroup",anticon:"antd-pro-pages-dashboard-analysis-style-anticon",rankingList:"antd-pro-pages-dashboard-analysis-style-rankingList",rankingItemNumber:"antd-pro-pages-dashboard-analysis-style-rankingItemNumber",active:"antd-pro-pages-dashboard-analysis-style-active",rankingItemTitle:"antd-pro-pages-dashboard-analysis-style-rankingItemTitle",salesExtra:"antd-pro-pages-dashboard-analysis-style-salesExtra",currentDate:"antd-pro-pages-dashboard-analysis-style-currentDate",salesCard:"antd-pro-pages-dashboard-analysis-style-salesCard",salesBar:"antd-pro-pages-dashboard-analysis-style-salesBar",salesRank:"antd-pro-pages-dashboard-analysis-style-salesRank",salesCardExtra:"antd-pro-pages-dashboard-analysis-style-salesCardExtra",salesTypeRadio:"antd-pro-pages-dashboard-analysis-style-salesTypeRadio",offlineCard:"antd-pro-pages-dashboard-analysis-style-offlineCard",trendText:"antd-pro-pages-dashboard-analysis-style-trendText",rankingTitle:"antd-pro-pages-dashboard-analysis-style-rankingTitle",salesExtraWrap:"antd-pro-pages-dashboard-analysis-style-salesExtraWrap"}},89713:function(D,we,c){"use strict";c.r(we),c.d(we,{default:function(){return mt}});var pt=c(69885),ae=c(87379),vt=c(1898),H=c(29024),gt=c(99775),aa=c(71947),ft=c(59887),Ne=c(33523),R=c(44950),w=c(92633),z=c(73848),G=c(43649),ta=c(44545),e=c(67294),na=c(35671),v=c(12700),yt=c(38313),Y=c(99352),te=c(68628),ra=c(96481),B=c.n(ra),g=c(63012),sa=c(78995),Me=c.n(sa),J=c(28053);function ze(h){var t=h.style;t.height="100%";var r=parseInt("".concat(getComputedStyle(h).height),10),a=parseInt("".concat(getComputedStyle(h).paddingTop),10)+parseInt("".concat(getComputedStyle(h).paddingBottom),10);return r-a}function Ge(h){if(!h)return 0;var t=h,r=ze(t),a=t.parentNode;return a&&(r=ze(a)),r}function ia(){return function(h){var t=function(r){(0,z.Z)(n,r);var a=(0,G.Z)(n);function n(){var o;(0,R.Z)(this,n);for(var l=arguments.length,s=new Array(l),i=0;i<l;i++)s[i]=arguments[i];return o=a.call.apply(a,[this].concat(s)),o.state={computedHeight:0},o.root=void 0,o.handleRoot=function(d){o.root=d},o}return(0,w.Z)(n,[{key:"componentDidMount",value:function(){var l=this.props.height;if(!l){var s=Ge(this.root);this.setState({computedHeight:s}),s<1&&(s=Ge(this.root),this.setState({computedHeight:s}))}}},{key:"render",value:function(){var l=this.props.height,s=this.state.computedHeight,i=l||s;return e.createElement("div",{ref:this.handleRoot},i>0&&e.createElement(h,(0,J.Z)({},this.props,{height:i})))}}]),n}(e.Component);return t}}var V=ia,la=c(47407),ie=c.n(la),oa=function(h){(0,z.Z)(r,h);var t=(0,G.Z)(r);function r(){var a;(0,R.Z)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return a=t.call.apply(t,[this].concat(o)),a.state={autoHideXLabels:!1},a.root=void 0,a.node=void 0,a.resize=Me()(function(){if(!(!a.node||!a.node.parentNode)){var s=a.node.parentNode.clientWidth,i=a.props,d=i.data,u=d===void 0?[]:d,p=i.autoLabel,m=p===void 0?!0:p;if(!!m){var x=u.length*30,f=a.state.autoHideXLabels;s<=x?f||a.setState({autoHideXLabels:!0}):f&&a.setState({autoHideXLabels:!1})}}},500),a.handleRoot=function(s){a.root=s},a.handleRef=function(s){a.node=s},a}return(0,w.Z)(r,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this.props,o=n.height,l=o===void 0?1:o,s=n.title,i=n.forceFit,d=i===void 0?!0:i,u=n.data,p=n.color,m=p===void 0?"rgba(24, 144, 255, 0.85)":p,x=n.padding,f=this.state.autoHideXLabels,y={x:{type:"cat"},y:{min:0}},T=["x*y",function(M,Z){return{name:M,value:Z}}];return e.createElement("div",{className:ie().chart,style:{height:l},ref:this.handleRoot},e.createElement("div",{ref:this.handleRef},s&&e.createElement("h4",{style:{marginBottom:20}},s),e.createElement(g.Chart,{scale:y,height:s?l-41:l,forceFit:d,data:u,padding:x||"auto"},e.createElement(g.Axis,{name:"x",title:!1,label:f?void 0:{},tickLine:f?void 0:{}}),e.createElement(g.Axis,{name:"y",min:0}),e.createElement(g.Tooltip,{showTitle:!1,crosshairs:!1}),e.createElement(g.Geom,{type:"interval",position:"x*y",color:m,tooltip:T}))))}}]),r}(e.Component),Se=V()(oa),Et=c(81766),le=c(7935),ue=c(3084),Q=c(21699),da=c(75177),ne=c.n(da),ca=c(23230),k=c.n(ca),ma=function(t){if(!t&&t!==0)return null;var r;switch(typeof t){case"undefined":r=null;break;case"function":r=e.createElement("div",{className:k().total},t());break;default:r=e.createElement("div",{className:k().total},t)}return r},ha=function(h){(0,z.Z)(r,h);var t=(0,G.Z)(r);function r(){var a;(0,R.Z)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return a=t.call.apply(t,[this].concat(o)),a.renderContent=function(){var s=a.props,i=s.contentHeight,d=s.title,u=s.avatar,p=s.action,m=s.total,x=s.footer,f=s.children,y=s.loading;return y?!1:e.createElement("div",{className:k().chartCard},e.createElement("div",{className:ne()(k().chartTop,(0,Q.Z)({},k().chartTopMargin,!f&&!x))},e.createElement("div",{className:k().avatar},u),e.createElement("div",{className:k().metaWrap},e.createElement("div",{className:k().meta},e.createElement("span",{className:k().title},d),e.createElement("span",{className:k().action},p)),ma(m))),f&&e.createElement("div",{className:k().content,style:{height:i||"auto"}},e.createElement("div",{className:i&&k().contentFixed},f)),x&&e.createElement("div",{className:ne()(k().footer,(0,Q.Z)({},k().footerMargin,!f))},x))},a}return(0,w.Z)(r,[{key:"render",value:function(){var n=this.props,o=n.loading,l=o===void 0?!1:o,s=n.contentHeight,i=n.title,d=n.avatar,u=n.action,p=n.total,m=n.footer,x=n.children,f=(0,ue.Z)(n,["loading","contentHeight","title","avatar","action","total","footer","children"]);return e.createElement(le.Z,(0,J.Z)({loading:l,bodyStyle:{padding:"20px 24px 8px 24px"}},f),this.renderContent())}}]),r}(e.Component),oe=ha,ua=c(16829),He=c.n(ua),pa=function(t){var r=t.label,a=t.value,n=(0,ue.Z)(t,["label","value"]);return e.createElement("div",(0,J.Z)({className:He().field},n),e.createElement("span",{className:He().label},r),e.createElement("span",{className:He().number},a))},pe=pa,Be=g.Guide.Arc,va=g.Guide.Html,ke=g.Guide.Line,ga=function(t){switch(t){case"2":return"\u5DEE";case"4":return"\u4E2D";case"6":return"\u826F";case"8":return"\u4F18";default:return""}};g.Shape.registerShape&&g.Shape.registerShape("point","pointer",{drawShape:function(t,r){var a=t.points[0];a=this.parsePoint(a);var n=this.parsePoint({x:0,y:0});return r.addShape("line",{attrs:{x1:n.x,y1:n.y,x2:a.x,y2:a.y,stroke:t.color,lineWidth:2,lineCap:"round"}}),r.addShape("circle",{attrs:{x:n.x,y:n.y,r:6,stroke:t.color,lineWidth:3,fill:"#fff"}})}});for(var fa=function(t){var r=t.title,a=t.height,n=a===void 0?1:a,o=t.percent,l=t.forceFit,s=l===void 0?!0:l,i=t.formatter,d=i===void 0?ga:i,u=t.color,p=u===void 0?"#2F9CFF":u,m=t.bgColor,x=m===void 0?"#F0F2F5":m,f={value:{type:"linear",min:0,max:10,tickCount:6,nice:!0}},y=[{value:o/10}],T=function(){return`
    <div style="width: 300px;text-align: center;font-size: 12px!important;">
      <div style="font-size: 14px; color: rgba(0,0,0,0.43);margin: 0;">`.concat(r,`</div>
      <div style="font-size: 24px;color: rgba(0,0,0,0.85);margin: 0;">
        `).concat((y[0].value*10).toFixed(2),`%
      </div>
    </div>`)},M={fontSize:12,fill:"rgba(0, 0, 0, 0.65)",textAlign:"center"};return e.createElement(g.Chart,{height:n,data:y,scale:f,padding:[-16,0,16,0],forceFit:s},e.createElement(g.Coord,{type:"polar",startAngle:-1.25*Math.PI,endAngle:.25*Math.PI,radius:.8}),e.createElement(g.Axis,{name:"1",line:void 0}),e.createElement(g.Axis,{line:void 0,tickLine:void 0,subTickLine:void 0,name:"value",zIndex:2,label:{offset:-12,formatter:d,textStyle:M}}),e.createElement(g.Guide,null,e.createElement(ke,{start:[3,.905],end:[3,.85],lineStyle:{stroke:p,lineDash:void 0,lineWidth:2}}),e.createElement(ke,{start:[5,.905],end:[5,.85],lineStyle:{stroke:p,lineDash:void 0,lineWidth:3}}),e.createElement(ke,{start:[7,.905],end:[7,.85],lineStyle:{stroke:p,lineDash:void 0,lineWidth:3}}),e.createElement(Be,{start:[0,.965],end:[10,.965],style:{stroke:x,lineWidth:10}}),e.createElement(Be,{start:[0,.965],end:[y[0].value,.965],style:{stroke:p,lineWidth:10}}),e.createElement(va,{position:["50%","95%"],html:T()})),e.createElement(g.Geom,{line:!1,type:"point",position:"value*1",shape:"pointer",color:p,active:!1}))},ya=V()(fa),q=c(61020),Ea=function(t){var r=t.height,a=r===void 0?1:r,n=t.data,o=n===void 0?[]:n,l=t.forceFit,s=l===void 0?!0:l,i=t.color,d=i===void 0?"rgba(24, 144, 255, 0.2)":i,u=t.borderColor,p=u===void 0?"#1089ff":u,m=t.scale,x=m===void 0?{x:{},y:{}}:m,f=t.borderWidth,y=f===void 0?2:f,T=t.line,M=t.xAxis,Z=t.yAxis,N=t.animate,E=N===void 0?!0:N,C=[36,5,30,5],S={x:(0,q.Z)({type:"cat",range:[0,1]},x.x),y:(0,q.Z)({min:0},x.y)},I=["x*y",function(ee,L){return{name:ee,value:L}}],$=a+54;return e.createElement("div",{className:ie().miniChart,style:{height:a}},e.createElement("div",{className:ie().chartContent},a>0&&e.createElement(g.Chart,{animate:E,scale:S,height:$,forceFit:s,data:o,padding:C},e.createElement(g.Axis,(0,J.Z)({key:"axis-x",name:"x",label:null,line:null,tickLine:null,grid:null},M)),e.createElement(g.Axis,(0,J.Z)({key:"axis-y",name:"y",label:null,line:null,tickLine:null,grid:null},Z)),e.createElement(g.Tooltip,{showTitle:!1,crosshairs:!1}),e.createElement(g.Geom,{type:"area",position:"x*y",color:d,tooltip:I,shape:"smooth",style:{fillOpacity:1}}),T?e.createElement(g.Geom,{type:"line",position:"x*y",shape:"smooth",color:p,size:y,tooltip:!1}):e.createElement("span",{style:{display:"none"}}))))},ve=V()(Ea),xa=function(t){var r=t.height,a=r===void 0?0:r,n=t.forceFit,o=n===void 0?!0:n,l=t.color,s=l===void 0?"#1890FF":l,i=t.data,d=i===void 0?[]:i,u={x:{type:"cat"},y:{min:0}},p=[36,5,30,5],m=["x*y",function(f,y){return{name:f,value:y}}],x=a+54;return e.createElement("div",{className:ie().miniChart,style:{height:a}},e.createElement("div",{className:ie().chartContent},e.createElement(g.Chart,{scale:u,height:x,forceFit:o,data:d,padding:p},e.createElement(g.Tooltip,{showTitle:!1,crosshairs:!1}),e.createElement(g.Geom,{type:"interval",position:"x*y",color:s,tooltip:m}))))},Ve=V()(xa),ba=c(24894),ge=c.n(ba),Ca=function(t){var r=t.targetLabel,a=t.target,n=t.color,o=n===void 0?"rgb(19, 194, 194)":n,l=t.strokeWidth,s=t.percent;return e.createElement("div",{className:ge().miniProgress},e.createElement(Y.Z,{title:r},e.createElement("div",{className:ge().target,style:{left:a?"".concat(a,"%"):void 0}},e.createElement("span",{style:{backgroundColor:o||void 0}}),e.createElement("span",{style:{backgroundColor:o||void 0}}))),e.createElement("div",{className:ge().progressWrap},e.createElement("div",{className:ge().progress,style:{backgroundColor:o||void 0,width:s?"".concat(s,"%"):void 0,height:l||void 0}})))},Oe=Ca,xt=c(41294),Ta=c(67739),Ue=c(35246),Ke=c.n(Ue),Za=c(25752),Da=c.n(Za),Na=c(66649),W=c.n(Na),Ma=function(h){(0,z.Z)(r,h);var t=(0,G.Z)(r);function r(){var a;(0,R.Z)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return a=t.call.apply(t,[this].concat(o)),a.state={legendData:[],legendBlock:!1},a.requestRef=void 0,a.root=void 0,a.chart=void 0,a.resize=Me()(function(){var s=a.props.hasLegend,i=a.state.legendBlock;if(!s||!a.root){window.removeEventListener("resize",a.resize);return}a.root&&a.root.parentNode&&a.root.parentNode.clientWidth<=380?i||a.setState({legendBlock:!0}):i&&a.setState({legendBlock:!1})},400),a.getG2Instance=function(s){a.chart=s,requestAnimationFrame(function(){a.getLegendData(),a.resize()})},a.getLegendData=function(){if(!!a.chart){var s=a.chart.getAllGeoms()[0];if(!!s){var i=s.get("dataArray")||[],d=i.map(function(u){var p=u[0]._origin;return p.color=u[0].color,p.checked=!0,p});a.setState({legendData:d})}}},a.handleRoot=function(s){a.root=s},a.handleLegendClick=function(s,i){var d=s;d.checked=!d.checked;var u=a.state.legendData;u[i]=d;var p=u.filter(function(m){return m.checked}).map(function(m){return m.x});a.chart&&a.chart.filter("x",function(m){return p.indexOf("".concat(m))>-1}),a.setState({legendData:u})},a}return(0,w.Z)(r,[{key:"componentDidMount",value:function(){var n=this;window.addEventListener("resize",function(){n.requestRef=requestAnimationFrame(function(){return n.resize()})},{passive:!0})}},{key:"componentDidUpdate",value:function(n){var o=this.props.data;o!==n.data&&this.getLegendData()}},{key:"componentWillUnmount",value:function(){this.requestRef&&window.cancelAnimationFrame(this.requestRef),window.removeEventListener("resize",this.resize),this.resize&&this.resize.cancel()}},{key:"render",value:function(){var n,o=this,l=this.props,s=l.valueFormat,i=l.subTitle,d=l.total,u=l.hasLegend,p=u===void 0?!1:u,m=l.className,x=l.style,f=l.height,y=f===void 0?0:f,T=l.forceFit,M=T===void 0?!0:T,Z=l.percent,N=l.color,E=l.inner,C=E===void 0?.75:E,S=l.animate,I=S===void 0?!0:S,$=l.colors,ee=l.lineWidth,L=ee===void 0?1:ee,re=this.state,be=re.legendData,Ce=re.legendBlock,se=ne()(W().pie,m,(n={},(0,Q.Z)(n,W().hasLegend,!!p),(0,Q.Z)(n,W().legendBlock,Ce),n)),O=this.props,Re=O.data,Te=O.selected,Ze=Te===void 0?!0:Te,U=O.tooltip,K=U===void 0?!0:U,X=Re||[],j=Ze,P=K,De=$;X=X||[],j=j||!0,P=P||!0;var ce,me={x:{type:"cat",range:[0,1]},y:{min:0}};(Z||Z===0)&&(j=!1,P=!1,ce=function(he){return he==="\u5360\u6BD4"?N||"rgba(24, 144, 255, 0.85)":"#F0F2F5"},X=[{x:"\u5360\u6BD4",y:parseFloat("".concat(Z))},{x:"\u53CD\u6BD4",y:100-parseFloat("".concat(Z))}]);var ht=["x*percent",function(F,he){return{name:F,value:"".concat((he*100).toFixed(2),"%")}}],ut=[12,0,12,0],ea=new Ue.DataView;return ea.source(X).transform({type:"percent",field:"y",dimension:"x",as:"percent"}),e.createElement("div",{ref:this.handleRoot,className:se,style:x},e.createElement(Da(),{maxFontSize:25},e.createElement("div",{className:W().chart},e.createElement(g.Chart,{scale:me,height:y,forceFit:M,data:ea,padding:ut,animate:I,onGetG2Instance:this.getG2Instance},!!P&&e.createElement(g.Tooltip,{showTitle:!1}),e.createElement(g.Coord,{type:"theta",innerRadius:C}),e.createElement(g.Geom,{style:{lineWidth:L,stroke:"#fff"},tooltip:P?ht:void 0,type:"intervalStack",position:"percent",color:["x",Z||Z===0?ce:De],selected:j})),(i||d)&&e.createElement("div",{className:W().total},i&&e.createElement("h4",{className:"pie-sub-title"},i),d&&e.createElement("div",{className:"pie-stat"},typeof d=="function"?d():d)))),p&&e.createElement("ul",{className:W().legend},be.map(function(F,he){return e.createElement("li",{key:F.x,onClick:function(){return o.handleLegendClick(F,he)}},e.createElement("span",{className:W().dot,style:{backgroundColor:F.checked?F.color:"#aaa"}}),e.createElement("span",{className:W().legendTitle},F.x),e.createElement(Ta.Z,{type:"vertical"}),e.createElement("span",{className:W().percent},"".concat((Number.isNaN(F.percent)?0:F.percent*100).toFixed(2),"%")),e.createElement("span",{className:W().value},s?s(F.y):F.y))})))}}]),r}(e.Component),Fe=V()(Ma),Sa=c(51758),Ha=c(41986),ka=c.n(Ha),Fa="https://gw.alipayobjects.com/zos/rmsportal/gWyeGLCdFFRavBGIDzWk.png",Wa=function(h){(0,z.Z)(r,h);var t=(0,G.Z)(r);function r(){var a;(0,R.Z)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return a=t.call.apply(t,[this].concat(o)),a.state={dv:null,height:0,width:0},a.isUnmount=!1,a.requestRef=0,a.root=void 0,a.imageMask=void 0,a.resize=function(){a.requestRef=requestAnimationFrame(function(){a.renderChart(a.props)})},a.saveRootRef=function(s){a.root=s},a.initTagCloud=function(){function s(i){return(0,q.Z)((0,q.Z)({},i.style),{},{fillOpacity:i.opacity,fontSize:i.origin._origin.size,rotate:i.origin._origin.rotate,text:i.origin._origin.text,textAlign:"center",fontFamily:i.origin._origin.font,fill:i.color,textBaseline:"Alphabetic"})}g.Shape.registerShape("point","cloud",{drawShape:function(d,u){var p=s(d);return u.addShape("text",{attrs:(0,q.Z)((0,q.Z)({},p),{},{x:d.x,y:d.y})})}})},a.renderChart=Me()(function(s){var i=s||a.props,d=i.data,u=i.height;if(!(d.length<1||!a.root)){var p=u,m=a.root.offsetWidth,x=function(){var y=new(Ke()).View().source(d),T=y.range("value"),M=(0,Sa.Z)(T,2),Z=M[0],N=M[1];y.transform({type:"tag-cloud",fields:["name","value"],imageMask:a.imageMask,font:"Verdana",size:[m,p],padding:0,timeInterval:5e3,rotate:function(){return 0},fontSize:function(C){var S=Math.pow((C.value-Z)/(N-Z),2);return S*(17.5-5)+5}}),!a.isUnmount&&a.setState({dv:y,width:m,height:p})};a.imageMask?x():(a.imageMask=new Image,a.imageMask.crossOrigin="",a.imageMask.src=Fa,a.imageMask.onload=x)}},500),a}return(0,w.Z)(r,[{key:"componentDidMount",value:function(){var n=this;requestAnimationFrame(function(){n.initTagCloud(),n.renderChart(n.props)}),window.addEventListener("resize",this.resize,{passive:!0})}},{key:"componentDidUpdate",value:function(n){var o=this.props.data;n&&JSON.stringify(n.data)!==JSON.stringify(o)&&this.renderChart(this.props)}},{key:"componentWillUnmount",value:function(){this.isUnmount=!0,window.cancelAnimationFrame(this.requestRef),window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){var n=this.props,o=n.className,l=n.height,s=this.state,i=s.dv,d=s.width,u=s.height;return e.createElement("div",{className:ne()(ka().tagCloud,o),style:{width:"100%",height:l},ref:this.saveRootRef},i&&e.createElement(g.Chart,{width:d,height:u,data:i,padding:0,scale:{x:{nice:!1},y:{nice:!1}}},e.createElement(g.Tooltip,{showTitle:!1}),e.createElement(g.Coord,{reflect:"y"}),e.createElement(g.Geom,{type:"point",position:"x*y",color:"text",shape:"cloud",tooltip:["text*value",function(m,x){return{name:m,value:x}}]})))}}]),r}(e.Component),Aa=V()(Wa),Xe=c(83748),Ia=c(5956),Pa=c.n(Ia),$a=c(74303),La=c.n($a),Ra=function(t){var r=t.title,a=t.height,n=a===void 0?400:a,o=t.padding,l=o===void 0?[60,20,40,40]:o,s=t.titleMap,i=s===void 0?{y1:"y1",y2:"y2"}:s,d=t.borderWidth,u=d===void 0?2:d,p=t.data,m=Array.isArray(p)?p:[{x:0,y1:0,y2:0}];m.sort(function(N,E){return N.x-E.x});var x;m[0]&&m[0].y1&&m[0].y2&&(x=Math.max((0,Xe.Z)(m).sort(function(N,E){return E.y1-N.y1})[0].y1,(0,Xe.Z)(m).sort(function(N,E){return E.y2-N.y2})[0].y2));var f=new(Ke())({state:{start:m[0].x,end:m[m.length-1].x}}),y=f.createView();y.source(m).transform({type:"filter",callback:function(E){var C=E.x;return C<=f.state.end&&C>=f.state.start}}).transform({type:"map",callback:function(E){var C=(0,q.Z)({},E);return C[i.y1]=E.y1,C[i.y2]=E.y2,C}}).transform({type:"fold",fields:[i.y1,i.y2],key:"key",value:"value"});var T={type:"time",tickInterval:60*60*1e3,mask:"HH:mm",range:[0,1]},M={x:T,value:{max:x,min:0}},Z=function(){return e.createElement(Pa(),{padding:[0,l[1]+20,0,l[3]],width:"auto",height:26,xAxis:"x",yAxis:"y1",scales:{x:T},data:m,start:f.state.start,end:f.state.end,backgroundChart:{type:"line"},onChange:function(C){var S=C.startValue,I=C.endValue;f.setState("start",S),f.setState("end",I)}})};return e.createElement("div",{className:La().timelineChart,style:{height:n+30}},e.createElement("div",null,r&&e.createElement("h4",null,r),e.createElement(g.Chart,{height:n,padding:l,data:y,scale:M,forceFit:!0},e.createElement(g.Axis,{name:"x"}),e.createElement(g.Tooltip,null),e.createElement(g.Legend,{name:"key",position:"top"}),e.createElement(g.Geom,{type:"line",position:"x*value",size:u,color:"key"})),e.createElement("div",{style:{marginRight:-20}},e.createElement(Z,null))))},je=V()(Ra),wa=c(73549),We=c.n(wa),za=function(h){(0,z.Z)(r,h);var t=(0,G.Z)(r);function r(){var a;(0,R.Z)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return a=t.call.apply(t,[this].concat(o)),a.state={radio:1},a.timer=0,a.root=null,a.node=null,a.resize=function(){if(a.root){var s=a.props.height,i=s===void 0?1:s,d=a.root.parentNode,u=d.offsetWidth;a.setState({radio:u<i?u/i:1})}},a}return(0,w.Z)(r,[{key:"componentDidMount",value:function(){var n=this;this.renderChart(),this.resize(),window.addEventListener("resize",function(){requestAnimationFrame(function(){return n.resize()})},{passive:!0})}},{key:"componentDidUpdate",value:function(n){var o=this.props.percent;n.percent!==o&&this.renderChart("update")}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.timer),this.node&&(this.node.innerHTML=""),window.removeEventListener("resize",this.resize)}},{key:"renderChart",value:function(n){var o=this.props,l=o.percent,s=o.color,i=s===void 0?"#1890FF":s,d=l/100,u=this;if(cancelAnimationFrame(this.timer),!(!this.node||d!==0&&!d)){var p=this.node,m=p.getContext("2d");if(!!m){var x=p.width,f=p.height,y=x/2,T=2,M=y-T;m.beginPath(),m.lineWidth=T*2;for(var Z=x-T,N=Z/8,E=.2,C=E,S=T,I=0,$=0,ee=.005,L=[],re=y-T,be=-(Math.PI/2),Ce=!0,se=be;se<be+2*Math.PI;se+=1/(8*Math.PI))L.push([y+re*Math.cos(se),y+re*Math.sin(se)]);var O=L.shift();m.strokeStyle=i,m.moveTo(O[0],O[1]);var Re=function(){if(!!m){m.beginPath(),m.save();for(var U=[],K=S;K<=S+Z;K+=20/Z){var X=I+(S+K)/N,j=Math.sin(X)*C,P=K,De=2*M*(1-$)+(y-M)-N*j;m.lineTo(P,De),U.push([P,De])}var ce=U.shift();m.lineTo(S+Z,f),m.lineTo(S,f),m.lineTo(ce[0],ce[1]);var me=m.createLinearGradient(0,0,0,f);me.addColorStop(0,"#ffffff"),me.addColorStop(1,i),m.fillStyle=me,m.fill(),m.restore()}},Te=function Ze(){if(!!m){if(m.clearRect(0,0,x,f),Ce&&n!=="update")if(L.length){var U=L.shift();m.lineTo(U[0],U[1]),m.stroke()}else Ce=!1,m.lineTo(O[0],O[1]),m.stroke(),L=[],m.globalCompositeOperation="destination-over",m.beginPath(),m.lineWidth=T,m.arc(y,y,re,0,2*Math.PI,!0),m.beginPath(),m.save(),m.arc(y,y,y-3*T,0,2*Math.PI,!0),m.restore(),m.clip(),m.fillStyle=i;else{if(d>=.85){if(C>E/4){var K=E*.01;C-=K}}else if(d<=.1){if(C<E*1.5){var X=E*.01;C+=X}}else{if(C<=E){var j=E*.01;C+=j}if(C>=E){var P=E*.01;C-=P}}d-$>0&&($+=ee),d-$<0&&($-=ee),I+=.07,Re()}u.timer=requestAnimationFrame(Ze)}};Te()}}}},{key:"render",value:function(){var n=this,o=this.state.radio,l=this.props,s=l.percent,i=l.title,d=l.height,u=d===void 0?1:d;return e.createElement("div",{className:We().waterWave,ref:function(m){return n.root=m},style:{transform:"scale(".concat(o,")")}},e.createElement("div",{style:{width:u,height:u,overflow:"hidden"}},e.createElement("canvas",{className:We().waterWaveCanvasWrapper,ref:function(m){return n.node=m},width:u*2,height:u*2})),e.createElement("div",{className:We().text,style:{width:u}},i&&e.createElement("span",null,i),e.createElement("h4",null,s,"%")))}}]),r}(e.Component),Ga=V()(za),Ye=function(t){return"\xA5 ".concat(B()(t).format("0,0"))},bt={yuan:Ye,Bar:Se,Pie:Fe,Gauge:ya,MiniBar:Ve,MiniArea:ve,MiniProgress:Oe,ChartCard:oe,Field:pe,WaterWave:Ga,TagCloud:Aa,TimelineChart:je},Je=c(28612),Qe=c(19675),Ba=c(74450),fe=c.n(Ba),Va=function(t){var r,a=t.colorful,n=a===void 0?!0:a,o=t.reverseColor,l=o===void 0?!1:o,s=t.flag,i=t.children,d=t.className,u=(0,ue.Z)(t,["colorful","reverseColor","flag","children","className"]),p=ne()(fe().trendItem,(r={},(0,Q.Z)(r,fe().trendItemGrey,!n),(0,Q.Z)(r,fe().reverseColor,l&&n),r),d);return e.createElement("div",(0,J.Z)({},u,{className:p,title:typeof i=="string"?i:""}),e.createElement("span",null,i),s&&e.createElement("span",{className:fe()[s]},s==="up"?e.createElement(Je.Z,null):e.createElement(Qe.Z,null)))},de=Va,Ae=function(h){(0,z.Z)(r,h);var t=(0,G.Z)(r);function r(){var a;(0,R.Z)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return a=t.call.apply(t,[this].concat(o)),a.main=null,a.renderToHtml=function(){var s=a.props.children;a.main&&(a.main.innerHTML=Ye(s))},a}return(0,w.Z)(r,[{key:"componentDidMount",value:function(){this.renderToHtml()}},{key:"componentDidUpdate",value:function(){this.renderToHtml()}},{key:"render",value:function(){var n=this;return e.createElement("span",{ref:function(l){n.main=l}})}}]),r}(e.Component),Oa=c(56443),b=c.n(Oa),ye={xs:24,sm:12,md:12,lg:12,xl:6,style:{marginBottom:24}},Ua=function(t){var r=t.loading,a=t.visitData;return e.createElement(ae.Z,{gutter:24},e.createElement(H.Z,ye,e.createElement(oe,{bordered:!1,title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.total-sales",defaultMessage:"Total Sales"}),action:e.createElement(Y.Z,{title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"Introduce"})},e.createElement(te.Z,null)),loading:r,total:function(){return e.createElement(Ae,null,"126560")},footer:e.createElement(pe,{label:e.createElement(v._H,{id:"dashboardandanalysis.analysis.day-sales",defaultMessage:"Daily Sales"}),value:"\uFFE5".concat(B()(12423).format("0,0"))}),contentHeight:46},e.createElement(de,{flag:"up",style:{marginRight:16}},e.createElement(v._H,{id:"dashboardandanalysis.analysis.week",defaultMessage:"Weekly Changes"}),e.createElement("span",{className:b().trendText},"12%")),e.createElement(de,{flag:"down"},e.createElement(v._H,{id:"dashboardandanalysis.analysis.day",defaultMessage:"Daily Changes"}),e.createElement("span",{className:b().trendText},"11%")))),e.createElement(H.Z,ye,e.createElement(oe,{bordered:!1,loading:r,title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.visits",defaultMessage:"Visits"}),action:e.createElement(Y.Z,{title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"Introduce"})},e.createElement(te.Z,null)),total:B()(8846).format("0,0"),footer:e.createElement(pe,{label:e.createElement(v._H,{id:"dashboardandanalysis.analysis.day-visits",defaultMessage:"Daily Visits"}),value:B()(1234).format("0,0")}),contentHeight:46},e.createElement(ve,{color:"#975FE4",data:a}))),e.createElement(H.Z,ye,e.createElement(oe,{bordered:!1,loading:r,title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.payments",defaultMessage:"Payments"}),action:e.createElement(Y.Z,{title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"Introduce"})},e.createElement(te.Z,null)),total:B()(6560).format("0,0"),footer:e.createElement(pe,{label:e.createElement(v._H,{id:"dashboardandanalysis.analysis.conversion-rate",defaultMessage:"Conversion Rate"}),value:"60%"}),contentHeight:46},e.createElement(Ve,{data:a}))),e.createElement(H.Z,ye,e.createElement(oe,{loading:r,bordered:!1,title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.operational-effect",defaultMessage:"Operational Effect"}),action:e.createElement(Y.Z,{title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"Introduce"})},e.createElement(te.Z,null)),total:"78%",footer:e.createElement("div",{style:{whiteSpace:"nowrap",overflow:"hidden"}},e.createElement(de,{flag:"up",style:{marginRight:16}},e.createElement(v._H,{id:"dashboardandanalysis.analysis.week",defaultMessage:"Weekly Changes"}),e.createElement("span",{className:b().trendText},"12%")),e.createElement(de,{flag:"down"},e.createElement(v._H,{id:"dashboardandanalysis.analysis.day",defaultMessage:"Weekly Changes"}),e.createElement("span",{className:b().trendText},"11%"))),contentHeight:46},e.createElement(Oe,{percent:78,strokeWidth:8,target:80,color:"#13C2C2"}))))},Ka=Ua,Ct=c(68383),Ee=c(36322),Tt=c(30116),Xa=c(35630),ja=Xa.Z.RangePicker,qe=Ee.Z.TabPane,Ie=[],Pe=0;Pe<7;Pe+=1)Ie.push({title:(0,v.wv)({id:"dashboardandanalysis.analysis.test"},{no:Pe}),total:323234});var Ya=function(t){var r=t.rangePickerValue,a=t.salesData,n=t.isActive,o=t.handleRangePickerChange,l=t.loading,s=t.selectDate;return e.createElement(le.Z,{loading:l,bordered:!1,bodyStyle:{padding:0}},e.createElement("div",{className:b().salesCard},e.createElement(Ee.Z,{tabBarExtraContent:e.createElement("div",{className:b().salesExtraWrap},e.createElement("div",{className:b().salesExtra},e.createElement("a",{className:n("today"),onClick:function(){return s("today")}},e.createElement(v._H,{id:"dashboardandanalysis.analysis.all-day",defaultMessage:"All Day"})),e.createElement("a",{className:n("week"),onClick:function(){return s("week")}},e.createElement(v._H,{id:"dashboardandanalysis.analysis.all-week",defaultMessage:"All Week"})),e.createElement("a",{className:n("month"),onClick:function(){return s("month")}},e.createElement(v._H,{id:"dashboardandanalysis.analysis.all-month",defaultMessage:"All Month"})),e.createElement("a",{className:n("year"),onClick:function(){return s("year")}},e.createElement(v._H,{id:"dashboardandanalysis.analysis.all-year",defaultMessage:"All Year"}))),e.createElement(ja,{value:r,onChange:o,style:{width:256}})),size:"large",tabBarStyle:{marginBottom:24}},e.createElement(qe,{tab:e.createElement(v._H,{id:"dashboardandanalysis.analysis.sales",defaultMessage:"Sales"}),key:"sales"},e.createElement(ae.Z,null,e.createElement(H.Z,{xl:16,lg:12,md:12,sm:24,xs:24},e.createElement("div",{className:b().salesBar},e.createElement(Se,{height:295,title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.sales-trend",defaultMessage:"Sales Trend"}),data:a}))),e.createElement(H.Z,{xl:8,lg:12,md:12,sm:24,xs:24},e.createElement("div",{className:b().salesRank},e.createElement("h4",{className:b().rankingTitle},e.createElement(v._H,{id:"dashboardandanalysis.analysis.sales-ranking",defaultMessage:"Sales Ranking"})),e.createElement("ul",{className:b().rankingList},Ie.map(function(i,d){return e.createElement("li",{key:i.title},e.createElement("span",{className:"".concat(b().rankingItemNumber," ").concat(d<3?b().active:"")},d+1),e.createElement("span",{className:b().rankingItemTitle,title:i.title},i.title),e.createElement("span",{className:b().rankingItemValue},B()(i.total).format("0,0")))})))))),e.createElement(qe,{tab:e.createElement(v._H,{id:"dashboardandanalysis.analysis.visits",defaultMessage:"Visits"}),key:"views"},e.createElement(ae.Z,null,e.createElement(H.Z,{xl:16,lg:12,md:12,sm:24,xs:24},e.createElement("div",{className:b().salesBar},e.createElement(Se,{height:292,title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.visits-trend",defaultMessage:"Visits Trend"}),data:a}))),e.createElement(H.Z,{xl:8,lg:12,md:12,sm:24,xs:24},e.createElement("div",{className:b().salesRank},e.createElement("h4",{className:b().rankingTitle},e.createElement(v._H,{id:"dashboardandanalysis.analysis.visits-ranking",defaultMessage:"Visits Ranking"})),e.createElement("ul",{className:b().rankingList},Ie.map(function(i,d){return e.createElement("li",{key:i.title},e.createElement("span",{className:"".concat(b().rankingItemNumber," ").concat(d<3?b().active:"")},d+1),e.createElement("span",{className:b().rankingItemTitle,title:i.title},i.title),e.createElement("span",null,B()(i.total).format("0,0")))})))))))))},Ja=Ya,Zt=c(36968),Qa=c(28379),qa=c(59641),_=c.n(qa),_a=function(t){var r=t.theme,a=t.title,n=t.subTitle,o=t.total,l=t.subTotal,s=t.status,i=t.suffix,d=t.gap,u=(0,ue.Z)(t,["theme","title","subTitle","total","subTotal","status","suffix","gap"]);return e.createElement("div",(0,J.Z)({className:ne()(_().numberInfo,(0,Q.Z)({},_()["numberInfo".concat(r)],r))},u),a&&e.createElement("div",{className:_().numberInfoTitle,title:typeof a=="string"?a:""},a),n&&e.createElement("div",{className:_().numberInfoSubTitle,title:typeof n=="string"?n:""},n),e.createElement("div",{className:_().numberInfoValue,style:d?{marginTop:d}:{}},e.createElement("span",null,o,i&&e.createElement("em",{className:_().suffix},i)),(s||l)&&e.createElement("span",{className:_().subTotal},l,s&&s==="up"?e.createElement(Je.Z,null):e.createElement(Qe.Z,null))))},$e=_a,et=[{title:e.createElement(v._H,{id:"dashboardandanalysis.table.rank",defaultMessage:"Rank"}),dataIndex:"index",key:"index"},{title:e.createElement(v._H,{id:"dashboardandanalysis.table.search-keyword",defaultMessage:"Search keyword"}),dataIndex:"keyword",key:"keyword",render:function(t){return e.createElement("a",{href:"/"},t)}},{title:e.createElement(v._H,{id:"dashboardandanalysis.table.users",defaultMessage:"Users"}),dataIndex:"count",key:"count",sorter:function(t,r){return t.count-r.count},className:b().alignRight},{title:e.createElement(v._H,{id:"dashboardandanalysis.table.weekly-range",defaultMessage:"Weekly Range"}),dataIndex:"range",key:"range",sorter:function(t,r){return t.range-r.range},render:function(t,r){return e.createElement(de,{flag:r.status===1?"down":"up"},e.createElement("span",{style:{marginRight:4}},t,"%"))}}],at=function(t){var r=t.loading,a=t.visitData2,n=t.searchData,o=t.dropdownGroup;return e.createElement(le.Z,{loading:r,bordered:!1,title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.online-top-search",defaultMessage:"Online Top Search"}),extra:o,style:{height:"100%"}},e.createElement(ae.Z,{gutter:68},e.createElement(H.Z,{sm:12,xs:24,style:{marginBottom:24}},e.createElement($e,{subTitle:e.createElement("span",null,e.createElement(v._H,{id:"dashboardandanalysis.analysis.search-users",defaultMessage:"search users"}),e.createElement(Y.Z,{title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"introduce"})},e.createElement(te.Z,{style:{marginLeft:8}}))),gap:8,total:B()(12321).format("0,0"),status:"up",subTotal:17.1}),e.createElement(ve,{line:!0,height:45,data:a})),e.createElement(H.Z,{sm:12,xs:24,style:{marginBottom:24}},e.createElement($e,{subTitle:e.createElement("span",null,e.createElement(v._H,{id:"dashboardandanalysis.analysis.per-capita-search",defaultMessage:"Per Capita Search"}),e.createElement(Y.Z,{title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.introduce",defaultMessage:"introduce"})},e.createElement(te.Z,{style:{marginLeft:8}}))),total:2.7,status:"down",subTotal:26.2,gap:8}),e.createElement(ve,{line:!0,height:45,data:a}))),e.createElement(Qa.Z,{rowKey:function(s){return s.index},size:"small",columns:et,dataSource:n,pagination:{style:{marginBottom:0},pageSize:5}}))},tt=at,Dt=c(55614),xe=c(37455),nt=function(t){var r=t.dropdownGroup,a=t.salesType,n=t.loading,o=t.salesPieData,l=t.handleChangeSalesType;return e.createElement(le.Z,{loading:n,className:b().salesCard,bordered:!1,title:e.createElement(v._H,{id:"dashboardandanalysis.analysis.the-proportion-of-sales",defaultMessage:"The Proportion of Sales"}),style:{height:"100%"},extra:e.createElement("div",{className:b().salesCardExtra},r,e.createElement("div",{className:b().salesTypeRadio},e.createElement(xe.ZP.Group,{value:a,onChange:l},e.createElement(xe.ZP.Button,{value:"all"},e.createElement(v._H,{id:"dashboardandanalysis.channel.all",defaultMessage:"ALL"})),e.createElement(xe.ZP.Button,{value:"online"},e.createElement(v._H,{id:"dashboardandanalysis.channel.online",defaultMessage:"Online"})),e.createElement(xe.ZP.Button,{value:"stores"},e.createElement(v._H,{id:"dashboardandanalysis.channel.stores",defaultMessage:"Stores"})))))},e.createElement("div",null,e.createElement("h4",{style:{marginTop:8,marginBottom:32}},e.createElement(v._H,{id:"dashboardandanalysis.analysis.sales",defaultMessage:"Sales"})),e.createElement(Fe,{hasLegend:!0,subTitle:e.createElement(v._H,{id:"dashboardandanalysis.analysis.sales",defaultMessage:"Sales"}),total:function(){return e.createElement(Ae,null,o.reduce(function(i,d){return d.y+i},0))},data:o,valueFormat:function(i){return e.createElement(Ae,null,i)},height:248,lineWidth:4})))},rt=nt,st=function(t){var r=t.data,a=t.currentTabKey;return e.createElement(ae.Z,{gutter:8,style:{width:138,margin:"8px 0"}},e.createElement(H.Z,{span:12},e.createElement($e,{title:r.name,subTitle:e.createElement(v._H,{id:"dashboardandanalysis.analysis.conversion-rate",defaultMessage:"Conversion Rate"}),gap:2,total:"".concat(r.cvr*100,"%"),theme:a!==r.name?"light":void 0})),e.createElement(H.Z,{span:12,style:{paddingTop:36}},e.createElement(Fe,{animate:!1,inner:.55,tooltip:!1,margin:[0,0,0,0],percent:r.cvr*100,height:64})))},it=Ee.Z.TabPane,lt=function(t){var r=t.activeKey,a=t.loading,n=t.offlineData,o=t.offlineChartData,l=t.handleTabChange;return e.createElement(le.Z,{loading:a,className:b().offlineCard,bordered:!1,style:{marginTop:32}},e.createElement(Ee.Z,{activeKey:r,onChange:l},n.map(function(s){return e.createElement(it,{tab:e.createElement(st,{data:s,currentTabKey:r}),key:s.name},e.createElement("div",{style:{padding:"0 24px"}},e.createElement(je,{height:400,data:o,titleMap:{y1:(0,v.wv)({id:"dashboardandanalysis.analysis.traffic"}),y2:(0,v.wv)({id:"dashboardandanalysis.analysis.payments"})}})))})))},ot=lt,dt=c(25747),A=c.n(dt);function _e(h){return h*1<10?"0".concat(h):h}function Le(h){var t=new Date,r=1e3*60*60*24;if(h==="today")return t.setHours(0),t.setMinutes(0),t.setSeconds(0),[A()(t),A()(t.getTime()+(r-1e3))];if(h==="week"){var a=t.getDay();t.setHours(0),t.setMinutes(0),t.setSeconds(0),a===0?a=6:a-=1;var n=t.getTime()-a*r;return[A()(n),A()(n+(7*r-1e3))]}var o=t.getFullYear();if(h==="month"){var l=t.getMonth(),s=A()(t).add(1,"months"),i=s.year(),d=s.month();return[A()("".concat(o,"-").concat(_e(l+1),"-01 00:00:00")),A()(A()("".concat(i,"-").concat(_e(d+1),"-01 00:00:00")).valueOf()-1e3)]}return[A()("".concat(o,"-01-01 00:00:00")),A()("".concat(o,"-12-31 23:59:59"))]}var ct=function(h){(0,z.Z)(r,h);var t=(0,G.Z)(r);function r(){var a;(0,R.Z)(this,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return a=t.call.apply(t,[this].concat(o)),a.state={salesType:"all",currentTabKey:"",rangePickerValue:Le("year")},a.reqRef=0,a.timeoutId=0,a.handleChangeSalesType=function(s){a.setState({salesType:s.target.value})},a.handleTabChange=function(s){a.setState({currentTabKey:s})},a.handleRangePickerChange=function(s){var i=a.props.dispatch;a.setState({rangePickerValue:s}),i({type:"dashboardAndanalysis/fetchSalesData"})},a.selectDate=function(s){var i=a.props.dispatch;a.setState({rangePickerValue:Le(s)}),i({type:"dashboardAndanalysis/fetchSalesData"})},a.isActive=function(s){var i=a.state.rangePickerValue;if(!i)return"";var d=Le(s);return!d||!i[0]||!i[1]?"":i[0].isSame(d[0],"day")&&i[1].isSame(d[1],"day")?b().currentDate:""},a}return(0,w.Z)(r,[{key:"componentDidMount",value:function(){var n=this.props.dispatch;this.reqRef=requestAnimationFrame(function(){n({type:"dashboardAndanalysis/fetch"})})}},{key:"componentWillUnmount",value:function(){var n=this.props.dispatch;n({type:"dashboardAndanalysis/clear"}),cancelAnimationFrame(this.reqRef),clearTimeout(this.timeoutId)}},{key:"render",value:function(){var n=this.state,o=n.rangePickerValue,l=n.salesType,s=n.currentTabKey,i=this.props,d=i.dashboardAndanalysis,u=i.loading,p=d.visitData,m=d.visitData2,x=d.salesData,f=d.searchData,y=d.offlineData,T=d.offlineChartData,M=d.salesTypeData,Z=d.salesTypeDataOnline,N=d.salesTypeDataOffline,E;l==="all"?E=M:E=l==="online"?Z:N;var C=e.createElement(Ne.Z,null,e.createElement(Ne.Z.Item,null,"\u64CD\u4F5C\u4E00"),e.createElement(Ne.Z.Item,null,"\u64CD\u4F5C\u4E8C")),S=e.createElement("span",{className:b().iconGroup},e.createElement(aa.Z,{overlay:C,placement:"bottomRight"},e.createElement(ta.Z,null))),I=s||y[0]&&y[0].name;return e.createElement(na.Z,null,e.createElement(e.Fragment,null,e.createElement(Ka,{loading:u,visitData:p}),e.createElement(Ja,{rangePickerValue:o,salesData:x,isActive:this.isActive,handleRangePickerChange:this.handleRangePickerChange,loading:u,selectDate:this.selectDate}),e.createElement(ae.Z,{gutter:24,style:{marginTop:24}},e.createElement(H.Z,{xl:12,lg:24,md:24,sm:24,xs:24},e.createElement(tt,{loading:u,visitData2:m,searchData:f,dropdownGroup:S})),e.createElement(H.Z,{xl:12,lg:24,md:24,sm:24,xs:24},e.createElement(rt,{dropdownGroup:S,salesType:l,loading:u,salesPieData:E,handleChangeSalesType:this.handleChangeSalesType}))),e.createElement(ot,{activeKey:I,loading:u,offlineData:y,offlineChartData:T,handleTabChange:this.handleTabChange})))}}]),r}(e.Component),mt=(0,v.$j)(function(h){var t=h.dashboardAndanalysis,r=h.loading;return{dashboardAndanalysis:t,loading:r.effects["dashboardAndanalysis/fetch"]}})(ct)}}]);
